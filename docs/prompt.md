# 提示词

## 核心

（注：有些文件的父目录在符号链接中，所以在列表中不可见，请正常访问读取）

我们这一次只做以下的事：

1. **一次性直接读取以下文件：**
   `docs/draft.md`、`参考/pageos-greet/src/main.rs`；
2. 在 `src/main.rs` 实现 `--prot` 和 `--command`。

## 界面

（注：有些文件的父目录在符号链接中，所以在列表中不可见，请正常访问）

总目标在 @/index.html 纯 HTML 单文件实现：

- 进程（ @/process.worker.js ）：
  - 进程可以运行 JS 命令，进程可以拥有零个或多个子进程；
  - 进程可以有零个或多个设置项，用来供设置管理器统一显示给用户用来更改该进程的设置；
  - 进程间通信；
- 窗口：
  - 进程可以拥有零个或多个窗口；
  - 窗口可以为：边框、无边框、全屏；无边框和全屏都只显示当前标签页；
  - 窗口可以被拖动、调整大小、最小化、最大化、关闭；
  - 窗口可以拥有一个或多个标签页；
    - 有多个标签页时可在标签页列表点击切换、关闭；
    - 每个标签页可带一段 CSS；
- 输入和焦点管理器：
  - 通过鼠标点击、快捷键等切换焦点；
  - 拦截所有键盘、鼠标、控制器等的输入，仅在焦点窗口生效；
  - 一些进程可捕获输入……
  - ……（待完善）
- 程序启动器：
  - 打开一个窗口，里面列着应用程序，可点击启动应用程序；
  - 可通过设置来实现自启动应用程序……（待完善）
- 桌面背景：
  - 桌面背景由进程和全屏窗口组成；
- 任务栏：
  - 任务栏由进程和无边框窗口组成，显示在底部；
  - 任务栏左侧是程序启动器；
  - 任务栏中部是已启动的进程（应用程序）；
    - 窗口列表（已启动的有窗口的进程）；
    - 后台列表（已启动的没有窗口的进程（后台程序），如后台运行的音乐播放器）；
  - 任务栏右侧是状态信息（网络、蓝牙、电量和电池状态、日期时间）；

外观设计语言：扁平化，圆角，强调色描边、柔和色填充，无阴影，少过度动画。焦点选中处强调色更亮。

目前暂不考虑和 Rust 后端的对接等。只需实现以上功能的 HTML。

我们这一次只做以下的事：

1. 分析应用程序设计；
2. 如果我要实现初始化时用窗口实现桌面背景、任务栏、程序起动器等，我应该怎样调度、分配进程间的关系？我应该怎么存储这些独立的程序？
